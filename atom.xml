<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Codin']]></title>
  <link href="http://nadlerjessie.github.io/atom.xml" rel="self"/>
  <link href="http://nadlerjessie.github.io/"/>
  <updated>2015-11-08T17:39:49-05:00</updated>
  <id>http://nadlerjessie.github.io/</id>
  <author>
    <name><![CDATA[Jessie Nadler]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Refactoring My First Rails App]]></title>
    <link href="http://nadlerjessie.github.io/blog/2015/11/08/refactoring-my-first-rails-app/"/>
    <updated>2015-11-08T16:41:39-05:00</updated>
    <id>http://nadlerjessie.github.io/blog/2015/11/08/refactoring-my-first-rails-app</id>
    <content type="html"><![CDATA[<p>Last week I worked in a group to create my first Rails app! I had only created one other app from scratch in the past, which was done in Sinatra. A group of fellow Flatiron students and I made a dinner party organizer, currently titled <a href = "https://github.com/nadlerjessie/dinner_party/tree/master/DinnerParty">Bring It</a>. I was really excited by the project and was ready to get some of the functionality going. Unfortunately, this caused me to write some code that wasn&rsquo;t very DRY.</p>

<p>This project gave me a new appreciation for the refactoring process, which I hadn&rsquo;t yet done on such a big scale. In this post I&rsquo;ll take you through the cycle of just one section of code.</p>

<p><strong>The Problem:</strong><br>
I have a class called MenuItems, which belongs to a Dinner as well as a Dish. This means that each menu item would be for a specific dinner party as well as a specific dish with information about the food itself. However each dish also had a type of course: main dishes, salads, appetizers and desserts. On the views I wanted to group the dishes by their course so they could have appropriate headers, like a normal menu.</p>

<p><strong>Round 1: My Initial Code [class MenuItemsController]</strong><br>
In my controller I wrote the following code:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">index</span>
</span><span class='line'>  <span class="vi">@main_dishes</span> <span class="o">=</span> <span class="no">MenuItem</span><span class="o">.</span><span class="n">joins</span><span class="p">(</span><span class="ss">:dish</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="ss">dinner_id</span><span class="p">:</span> <span class="n">dinner_id</span><span class="p">,</span> <span class="ss">dishes</span><span class="p">:</span> <span class="p">{</span><span class="ss">course</span><span class="p">:</span> <span class="s2">&quot;Main Dish&quot;</span><span class="p">})</span>
</span><span class='line'>  <span class="vi">@salads</span> <span class="o">=</span> <span class="no">MenuItem</span><span class="o">.</span><span class="n">joins</span><span class="p">(</span><span class="ss">:dish</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="ss">dinner_id</span><span class="p">:</span> <span class="n">dinner_id</span><span class="p">,</span> <span class="ss">dishes</span><span class="p">:</span> <span class="p">{</span><span class="ss">course</span><span class="p">:</span> <span class="s2">&quot;Salad&quot;</span><span class="p">})</span>
</span><span class='line'>  <span class="vi">@appetizers</span> <span class="o">=</span> <span class="no">MenuItem</span><span class="o">.</span><span class="n">joins</span><span class="p">(</span><span class="ss">:dish</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="ss">dinner_id</span><span class="p">:</span> <span class="n">dinner_id</span><span class="p">,</span> <span class="ss">dishes</span><span class="p">:</span> <span class="p">{</span><span class="ss">course</span><span class="p">:</span> <span class="s2">&quot;Appetizer&quot;</span><span class="p">})</span>
</span><span class='line'>  <span class="vi">@desserts</span> <span class="o">=</span> <span class="no">MenuItem</span><span class="o">.</span><span class="n">joins</span><span class="p">(</span><span class="ss">:dish</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="ss">dinner_id</span><span class="p">:</span> <span class="n">dinner_id</span><span class="p">,</span> <span class="ss">dishes</span><span class="p">:</span> <span class="p">{</span><span class="ss">course</span><span class="p">:</span> <span class="s2">&quot;Dessert&quot;</span><span class="p">})</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>There are clearly a ton of issues with this code. A short list of issues:</p>

<p>1) When passing these instance variables to the views, I needed to have different HTML calls to iterate through each one<br>
2) It&rsquo;s incredibly repetitive<br>
3) The database searches were happening in the controller<br>
4) The courses are hardcoded</p>

<p>But it worked and that was what I needed to get started! Red, green, refactor&hellip; right? The first bit of refactoring I did was to alleviate problem number 1 stated above. I wanted to remove the redundancy from the view.</p>

<p><strong>Round 2: A First Attempt to Refactor [class MenuItemsController]</strong></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">index</span>
</span><span class='line'>  <span class="n">main_dishes</span> <span class="o">=</span> <span class="no">MenuItem</span><span class="o">.</span><span class="n">joins</span><span class="p">(</span><span class="ss">:dish</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="ss">dinner_id</span><span class="p">:</span> <span class="n">dinner_id</span><span class="p">,</span> <span class="ss">dishes</span><span class="p">:</span> <span class="p">{</span><span class="ss">course</span><span class="p">:</span> <span class="s2">&quot;Main Dish&quot;</span><span class="p">})</span>
</span><span class='line'>  <span class="n">salads</span> <span class="o">=</span> <span class="no">MenuItem</span><span class="o">.</span><span class="n">joins</span><span class="p">(</span><span class="ss">:dish</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="ss">dinner_id</span><span class="p">:</span> <span class="n">dinner_id</span><span class="p">,</span> <span class="ss">dishes</span><span class="p">:</span> <span class="p">{</span><span class="ss">course</span><span class="p">:</span> <span class="s2">&quot;Salad&quot;</span><span class="p">})</span>
</span><span class='line'>  <span class="n">appetizers</span> <span class="o">=</span> <span class="no">MenuItem</span><span class="o">.</span><span class="n">joins</span><span class="p">(</span><span class="ss">:dish</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="ss">dinner_id</span><span class="p">:</span> <span class="n">dinner_id</span><span class="p">,</span> <span class="ss">dishes</span><span class="p">:</span> <span class="p">{</span><span class="ss">course</span><span class="p">:</span> <span class="s2">&quot;Appetizer&quot;</span><span class="p">})</span>
</span><span class='line'>  <span class="n">desserts</span> <span class="o">=</span> <span class="no">MenuItem</span><span class="o">.</span><span class="n">joins</span><span class="p">(</span><span class="ss">:dish</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="ss">dinner_id</span><span class="p">:</span> <span class="n">dinner_id</span><span class="p">,</span> <span class="ss">dishes</span><span class="p">:</span> <span class="p">{</span><span class="ss">course</span><span class="p">:</span> <span class="s2">&quot;Dessert&quot;</span><span class="p">})</span>
</span><span class='line'>  <span class="vi">@all_dishes</span> <span class="o">=</span> <span class="o">[</span><span class="n">main_dishes</span><span class="p">,</span> <span class="n">salads</span><span class="p">,</span> <span class="n">appetizers</span><span class="p">,</span> <span class="n">desserts</span><span class="o">]</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>This was really no better on the controller side but it allowed me to iterate through @all_dishes in my index view rather than having separate code to display each course. At this point I wisened up and decided I didn&rsquo;t want four separate calls and I didn&rsquo;t want any of the database searches to be in the controller. In my MenuItem model I wrote the following:</p>

<p><strong>Round 3: Moving Code to the Model</strong><br>
In the MenuItem model I wrote:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="vc">@@courses</span> <span class="o">=</span> <span class="o">[</span><span class="s2">&quot;Main Dish, Salad, Appetizer, Dessert&quot;</span><span class="o">]</span>
</span><span class='line'>
</span><span class='line'><span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">index_by_course</span><span class="p">(</span><span class="n">dinner_id</span><span class="p">)</span>
</span><span class='line'>  <span class="vc">@@courses</span><span class="o">.</span><span class="n">map</span> <span class="k">do</span> <span class="o">|</span><span class="n">course</span><span class="o">|</span>
</span><span class='line'>    <span class="nb">self</span><span class="o">.</span><span class="n">joins</span><span class="p">(</span><span class="ss">:dish</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="ss">dinner_id</span><span class="p">:</span> <span class="n">dinner_id</span><span class="p">,</span> <span class="ss">dishes</span><span class="p">:</span> <span class="p">{</span><span class="ss">course</span><span class="p">:</span> <span class="n">course</span><span class="p">})</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>And in the MenuItemsController:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">index</span>
</span><span class='line'>  <span class="vi">@menu_items_by_course</span> <span class="o">=</span> <span class="no">MenuItem</span><span class="o">.</span><span class="n">index_by_course</span><span class="p">(</span><span class="vi">@dinner</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>This was definitely feeling like a step in the right direction. One remaining issue was that I was defining courses as a class variable in MenuItem even though it was a property of Dish. This got me into some trouble later. I had written similar code to organize all of the dishes by their course (as opposed to just dishes for this specific dinner menu, or menu items) and refactored similarly as well. All of a sudden on one of my pages I didn&rsquo;t see the main dishes! I was already weary of my definition of courses, especially because I had it in two places. It turned out, I had typed one as &ldquo;Main Dishes&rdquo; and another as &ldquo;Main Dish&rdquo;. It was definitely time to remove this redundancy.</p>

<p><strong>Round 4: Adding a CONSTANT!</strong><br>
Course was defined as a property of a dish, so I wanted to add the constant there. The dish model became:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">Dish</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span>
</span><span class='line'>  <span class="n">has_many</span> <span class="ss">:menu_items</span>
</span><span class='line'>  <span class="n">has_many</span> <span class="ss">:dish_assignments</span><span class="p">,</span> <span class="ss">through</span><span class="p">:</span> <span class="ss">:menu_items</span>
</span><span class='line'>
</span><span class='line'>  <span class="no">COURSES</span> <span class="o">=</span> <span class="o">[</span><span class="s2">&quot;Main Dishes&quot;</span><span class="p">,</span> <span class="s2">&quot;Sides&quot;</span><span class="p">,</span> <span class="s2">&quot;Appetizers&quot;</span><span class="p">,</span> <span class="s2">&quot;Desserts&quot;</span><span class="p">,</span> <span class="s2">&quot;Beverages&quot;</span><span class="o">]</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">find_available_dishes</span><span class="p">(</span><span class="n">dinner_id</span><span class="p">,</span> <span class="n">menu_ids</span><span class="p">)</span>
</span><span class='line'>    <span class="no">COURSES</span><span class="o">.</span><span class="n">map</span> <span class="k">do</span> <span class="o">|</span><span class="n">course</span><span class="o">|</span>
</span><span class='line'>      <span class="no">Dish</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">&quot;dishes.*&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="ss">course</span><span class="p">:</span> <span class="n">course</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="o">.</span><span class="n">not</span><span class="p">(</span><span class="nb">id</span><span class="p">:</span> <span class="n">menu_ids</span><span class="p">)</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>I was then able to update my menu_items_by_course class method to:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">index_by_course</span><span class="p">(</span><span class="n">dinner_id</span><span class="p">)</span>
</span><span class='line'>  <span class="no">Dish</span><span class="o">::</span><span class="no">Courses</span><span class="o">.</span><span class="n">map</span> <span class="k">do</span> <span class="o">|</span><span class="n">course</span><span class="o">|</span>
</span><span class='line'>    <span class="nb">self</span><span class="o">.</span><span class="n">joins</span><span class="p">(</span><span class="ss">:dish</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="ss">dinner_id</span><span class="p">:</span> <span class="n">dinner_id</span><span class="p">,</span> <span class="ss">dishes</span><span class="p">:</span> <span class="p">{</span><span class="ss">course</span><span class="p">:</span> <span class="n">course</span><span class="p">})</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p><strong>Reviewing the Issues</strong><br>
Going back to my short list of issues with my initial code, I can see how those issues were resolved.</p>

<p>1) <em>When passing these instance variables to the views, I needed to have different HTML calls to iterate through each one</em> - <strong>I solved this one early on in my refactoring process. First by passing four different database calls into an array before passing the instance variable to the view and later by mapping results while iterating over courses.</strong><br>
2) <em>It&rsquo;s incredibly repetitive</em> - <strong>Much of this repetitive nature has been reduced using iteration</strong><br>
3) <em>The database searches were happening in the controller</em> - <strong>Database searches were now moved to the model</strong><br>
4) <em>The courses are hardcoded</em> - <strong>While the courses are listed in the dish model, they are only listed in one place. This makes debugging easier and gives much more flexibility! I ended up changing the course options to Main Dishes, Sides, Appetizers, Desserts, and I added Beverages, which was all easy because they were defined in a single place. As a result of making my code more DRY I didn&rsquo;t have to made modifications in the other models, controllers, or views!</strong></p>

<p>I know that I will always be able to refactor code after I write it but hopefully by reflecting on my refactoring process I will write cleaner code in earlier stages.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Capybara]]></title>
    <link href="http://nadlerjessie.github.io/blog/2015/10/23/capybara/"/>
    <updated>2015-10-23T07:47:00-04:00</updated>
    <id>http://nadlerjessie.github.io/blog/2015/10/23/capybara</id>
    <content type="html"><![CDATA[<p>In the last week I started to work with Sinatra and building my first web applications. Some of the labs I have done at the Flatiron School have used the Capybara gem as part of the test specs. Though I was interacting with Capybara, it was mostly indirectly. I didn’t need to look too closely at the Capybara functionality until a group I was working with needed to write some specs of our own.</p>

<p>Capybara is a framework that allows you to test your web-based applications. Capybara is a web-based automation tool; it will simulate how your users will interact with your application.</p>

<p>Capybara is loaded using the DSL (domain specific language) and has a number of capabilities similar to what a user might do when visiting a webpage. Some basic functions are listed below:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">visit</span><span class="p">(</span><span class="err">‘</span><span class="n">page_url</span><span class="err">’</span><span class="p">)</span> <span class="c1">#navigate to page</span>
</span><span class='line'><span class="n">click_link</span><span class="p">(</span><span class="err">‘</span><span class="n">id_of_link</span><span class="err">’</span><span class="p">)</span> <span class="c1">#click link</span>
</span><span class='line'><span class="n">click_button</span><span class="p">(</span><span class="err">‘</span><span class="n">link_text</span><span class="err">’</span><span class="p">)</span> <span class="c1">#click button</span>
</span><span class='line'><span class="n">click_on</span><span class="p">(</span><span class="err">‘</span><span class="n">link_text</span><span class="err">’</span><span class="p">)</span> <span class="c1">#this will look for either a link or a button</span>
</span><span class='line'><span class="n">fill_in</span><span class="p">(</span><span class="err">‘</span><span class="n">params_path</span><span class="err">’</span><span class="p">,</span> <span class="ss">:with</span> <span class="o">=&gt;</span> <span class="err">‘</span><span class="n">value</span><span class="err">’</span><span class="p">)</span> <span class="c1">#adds content to field</span>
</span><span class='line'><span class="n">choose</span><span class="p">(</span><span class="err">‘</span><span class="n">radio_button</span><span class="err">’</span><span class="p">)</span> <span class="c1">#checks radio button</span>
</span><span class='line'><span class="n">check</span><span class="p">(</span><span class="err">‘</span><span class="n">checkbox</span><span class="err">’</span><span class="p">)</span> <span class="c1">#selects checkbox</span>
</span><span class='line'><span class="n">uncheck</span><span class="p">(</span><span class="err">‘</span><span class="n">checkbox</span><span class="err">’</span><span class="p">)</span> <span class="c1">#removes existing checkbox selection</span>
</span></code></pre></td></tr></table></div></figure>


<p>These are super useful! Using Capybara your test spec can navigate to any page and make selections just like a user would make. Typically the last thing to check is whether or not the rendered page has the correct content. Capybara has a keyword ‘page’, which allows you to do just that!</p>

<p>Below is the code I used to confirm my webpage was working. First I created an instance variable to operate on (1). Next I navigated to the correct webpage (2) and filled in the name for a landmark (3). I saved the file (4) and confirmed that saving the page took me to the right URL (5). Last (6), I confirmed that the page had the content I added in step 3! Easy, right?</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">describe</span> <span class="no">LandmarksController</span> <span class="k">do</span>
</span><span class='line'>  <span class="n">it</span> <span class="s2">&quot;changes landmark and saves changes&quot;</span> <span class="k">do</span>
</span><span class='line'>    <span class="vi">@landmark</span> <span class="o">=</span> <span class="no">Landmark</span><span class="o">.</span><span class="n">first</span> <span class="c1">#1</span>
</span><span class='line'>    <span class="n">visit</span> <span class="s2">&quot;/landmarks/</span><span class="si">#{</span><span class="vi">@landmark</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">/edit&quot;</span> <span class="c1">#2</span>
</span><span class='line'>    <span class="n">fill_in</span><span class="p">(</span><span class="s1">&#39;landmark[name]&#39;</span><span class="p">,</span> <span class="ss">:with</span> <span class="o">=&gt;</span> <span class="s1">&#39;Statue of Liberty&#39;</span><span class="p">)</span> <span class="c1">#3</span>
</span><span class='line'>    <span class="n">click_button</span><span class="p">(</span><span class="s1">&#39;Save&#39;</span><span class="p">)</span> <span class="c1">#4</span>
</span><span class='line'>    <span class="n">expect</span><span class="p">(</span><span class="n">current_path</span><span class="p">)</span><span class="o">.</span><span class="n">to</span> <span class="n">eq</span> <span class="s2">&quot;/landmarks/</span><span class="si">#{</span><span class="vi">@landmark</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&quot;</span> <span class="c1">#5</span>
</span><span class='line'>    <span class="n">expect</span><span class="p">(</span><span class="n">page</span><span class="p">)</span><span class="o">.</span><span class="n">to</span> <span class="n">have_content</span> <span class="s1">&#39;Statue of Liberty&#39;</span> <span class="c1">#6</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>Well, if it all works as expected, it’s easy. Unfortunately my group and I ran into some issues running this test. We were getting an issue that we weren’t seeing in our actual application. Because Capybara is running a hidden browser, we needed a way to confirm that our test was seeing the same thing we were seeing in our localhost.</p>

<p>Capybara has some awesome ways to do this. The browser is hidden but it doesn’t have to be. I learned about the gem ‘launchy’. According to the ReadMe for the gem, “Launchy is a helper class for launching cross-platform applications”. This means that no matter what your platform is, launchy will allow you perform applications you otherwise might need to specify in different syntaxes.</p>

<p>But back to Capybara. I needed to be able to open the page that Capybara was opening using the ‘visit’ keyword in order to debug. Capybara has a method save_and_open_page, which saves a current snapshot of the page and opens it. This allowed my group to see we had an issue with our ids because we hadn’t opened our Capybara DSL connection! After adding the following lines to the spec helper, we were off to the races.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="no">RSpec</span><span class="o">.</span><span class="n">configure</span> <span class="k">do</span> <span class="o">|</span><span class="n">config</span><span class="o">|</span>
</span><span class='line'>  <span class="n">config</span><span class="o">.</span><span class="n">include</span> <span class="no">Capybara</span><span class="o">::</span><span class="no">DSL</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>There are some other web-based automation tools, such as    <a href = "http://www.rubydoc.info/gems/selenium-webdriver/0.0.28/Selenium/WebDriver/Driver">Selenium</a> and <a href= "http://watir.com/">Watir</a>, which are worth looking into if Capybara doesn’t have everything you need. Unfortunately if you Google those you won’t get shown cute pictures of the animal :)</p>

<p><img class="center" src="http://nadlerjessie.github.io/images/capybara.jpg"></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[What's the difference between...?]]></title>
    <link href="http://nadlerjessie.github.io/blog/2015/10/05/whats-the-difference-between-dot-dot-dot/"/>
    <updated>2015-10-05T21:14:33-04:00</updated>
    <id>http://nadlerjessie.github.io/blog/2015/10/05/whats-the-difference-between-dot-dot-dot</id>
    <content type="html"><![CDATA[<p>As a new programmer I have frequently found myself asking the question, what’s the difference between these two methods? This is most common when it comes to enumerables. Here I’ll explain some differences between a few methods I find very useful. It is important to understand the differences so you can choose the best enumerable and create the most efficient code.</p>

<p>Before I dive in, it may be helpful to define an enumerable. Ruby-Doc defines the <code>Enumerable</code> module to provide collection classes with several traversal and searching methods, and with the ability to sort.</p>

<p>Enumerable methods allow you to loop over all of the members of a given collection. Each member will be passed to a block. Some enumerables will simply verify the truthiness of a statement and others will return a modified argument.</p>

<p>First let’s get some easy ones out of the way. What’s the difference between collect and map? Nothing, they’re aliases! What’s the difference between find and detect? Nothing!</p>

<p>Now that we’ve covered a few alias methods, let’s dig into some more complex comparisons.</p>

<p><strong>Select vs Collect</strong>
<em>Select</em> will iterate through each member and only return a given member if the information in the block is true. This returns a new array.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">array</span> <span class="o">=</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="o">]</span>
</span><span class='line'>
</span><span class='line'><span class="n">array</span><span class="o">.</span><span class="n">select</span><span class="p">{</span> <span class="o">|</span><span class="n">num</span><span class="o">|</span> <span class="n">num</span><span class="o">.</span><span class="n">even?</span> <span class="p">}</span>
</span><span class='line'><span class="o">=&gt;</span> <span class="o">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure>


<p><em>Collect</em> will iterate through each member and return a new array with information based on the block. This could be an argument checking the truthiness or modifying the element, both shown below.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">array</span> <span class="o">=</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="o">]</span>
</span><span class='line'>
</span><span class='line'><span class="n">array</span><span class="o">.</span><span class="n">collect</span><span class="p">{</span> <span class="o">|</span><span class="n">num</span><span class="o">|</span> <span class="n">num</span><span class="o">.</span><span class="n">even?</span> <span class="p">}</span>
</span><span class='line'><span class="o">=&gt;</span> <span class="o">[</span><span class="kp">false</span><span class="p">,</span> <span class="kp">true</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="kp">true</span><span class="p">,</span> <span class="kp">false</span><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure>


<p>The collect example above isn&rsquo;t that helpful to grab the even numbers. Collect can also modify the element that goes to the return, shown below.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">array</span> <span class="o">=</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="o">]</span>
</span><span class='line'>
</span><span class='line'><span class="n">array</span><span class="o">.</span><span class="n">collect</span><span class="p">{</span> <span class="o">|</span><span class="n">num</span><span class="o">|</span> <span class="n">num</span><span class="o">/</span><span class="mi">2</span> <span class="k">if</span> <span class="n">num</span><span class="o">.</span><span class="n">even?</span> <span class="p">}</span>
</span><span class='line'><span class="o">=&gt;</span> <span class="o">[</span><span class="kp">nil</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="kp">nil</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="kp">nil</span><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure>


<p>A the most apparent difference is that collect can modify an element before passing it to the return array. Select can only return the elements from the existing array. A less obvious, but important, difference is that collect will always return the same number of elements as the argument the method is called on. If the block in the collect statement is a logic statement, nil will be used if the block is false. Most often, you won’t want to carry around these nil values!</p>

<p><strong>Select vs Find</strong>
<em>Select</em>, as discussed above, will select all of the elements that cause the block to return true. <em>Find</em> will pull the first element that returns the block to be true. The big difference here may be obvious: select will return all of the elements that return true when passed to the block. A more nuanced difference is that find returns the element based on its current class.</p>

<p>Starting with the example above, we see find returns the first instance that turns the block true.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">array</span> <span class="o">=</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="o">]</span>
</span><span class='line'>
</span><span class='line'><span class="n">array</span><span class="o">.</span><span class="n">find</span><span class="p">{</span> <span class="o">|</span><span class="n">num</span><span class="o">|</span> <span class="n">num</span><span class="o">.</span><span class="n">even?</span> <span class="p">}</span>
</span><span class='line'><span class="o">=&gt;</span> <span class="mi">2</span>
</span></code></pre></td></tr></table></div></figure>


<p>Looking at the class of the return value tells us more about find&rsquo;s utility.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">hash_array</span> <span class="o">=</span> <span class="o">[</span> <span class="p">{</span><span class="mi">1</span><span class="o">=&gt;</span><span class="s2">&quot;one&quot;</span><span class="p">},</span> <span class="p">{</span><span class="mi">1</span> <span class="o">=&gt;</span> <span class="s2">&quot;one&quot;</span><span class="p">,</span> <span class="mi">2</span> <span class="o">=&gt;</span> <span class="s2">&quot;two&quot;</span><span class="p">}</span> <span class="o">]</span>
</span><span class='line'>
</span><span class='line'><span class="n">useSelect</span> <span class="o">=</span> <span class="n">hash_array</span><span class="o">.</span><span class="n">select</span> <span class="p">{</span><span class="o">|</span><span class="nb">hash</span><span class="o">|</span> <span class="nb">hash</span> <span class="k">if</span> <span class="nb">hash</span><span class="o">.</span><span class="n">keys</span><span class="o">.</span><span class="n">size</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">}</span>
</span><span class='line'><span class="o">=&gt;</span> <span class="o">[</span> <span class="p">{</span><span class="mi">1</span><span class="o">=&gt;</span><span class="s2">&quot;one&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="o">=&gt;</span><span class="s2">&quot;two&quot;</span><span class="p">}</span> <span class="o">]</span> <span class="c1">#useSelect.class =&gt; Array</span>
</span><span class='line'>
</span><span class='line'><span class="n">useFind</span> <span class="o">=</span>  <span class="n">hash_array</span><span class="o">.</span><span class="n">find</span> <span class="p">{</span><span class="o">|</span><span class="nb">hash</span><span class="o">|</span> <span class="nb">hash</span> <span class="k">if</span> <span class="nb">hash</span><span class="o">.</span><span class="n">keys</span><span class="o">.</span><span class="n">size</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">}</span>
</span><span class='line'><span class="o">=&gt;</span> <span class="p">{</span><span class="mi">1</span><span class="o">=&gt;</span><span class="s2">&quot;one&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="o">=&gt;</span><span class="s2">&quot;two&quot;</span><span class="p">}</span>  <span class="c1">#useFind.class =&gt; Hash</span>
</span></code></pre></td></tr></table></div></figure>


<p>This may be useful if you don’t want the element you’re looking to pull to be put in array. Of course if you do in fact want all of the arguments that return true the elements can be extracted from the array using methods like first, last or by index!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[My First Post On Octopress]]></title>
    <link href="http://nadlerjessie.github.io/blog/2015/09/28/my-first-post-on-octopress/"/>
    <updated>2015-09-28T19:43:50-04:00</updated>
    <id>http://nadlerjessie.github.io/blog/2015/09/28/my-first-post-on-octopress</id>
    <content type="html"><![CDATA[<p>&ldquo;Hello, World&rdquo;</p>
]]></content>
  </entry>
  
</feed>
